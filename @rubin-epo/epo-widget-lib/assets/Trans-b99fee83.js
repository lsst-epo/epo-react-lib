import{g as te,_ as z,a as J}from"./i18nInstance-764935cb.js";import{r as d}from"./index-8db94870.js";import{a as D}from"./toPropertyKey-148bb9ef.js";import{g as ne}from"./_commonjsHelpers-042e6b4d.js";import{w as re,a as N}from"./utils-7aca7d2f.js";import{I as ae}from"./context-3d6b95f0.js";function se(e,n){if(e==null)return{};var t={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(n.indexOf(o)>=0)&&(t[o]=e[o]);return t}function U(e,n){if(e==null)return{};var t=se(e,n),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var oe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const ie=ne(oe);var pe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function I(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(ie[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var o=new RegExp(pe),a=null;(a=o.exec(e))!==null;)if(a[0].trim())if(a[1]){var u=a[1].trim(),l=[u,""];u.indexOf("=")>-1&&(l=u.split("=")),n.attrs[l[0]]=l[1],o.lastIndex--}else a[2]&&(n.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return n}var ue=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ce=/^\s*$/,le=Object.create(null);function M(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var r=[];for(var o in t)r.push(o+'="'+t[o]+'"');return r.length?" "+r.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(M,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var fe={parse:function(e,n){n||(n={}),n.components||(n.components=le);var t,r=[],o=[],a=-1,u=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");r.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(ue,function(v,h){if(u){if(v!=="</"+t.name+">")return;u=!1}var j,x=v.charAt(1)!=="/",P=v.startsWith("<!--"),O=h+v.length,g=e.charAt(O);if(P){var k=I(v);return a<0?(r.push(k),r):((j=o[a]).children.push(k),r)}if(x&&(a++,(t=I(v)).type==="tag"&&n.components[t.name]&&(t.type="component",u=!0),t.voidElement||u||!g||g==="<"||t.children.push({type:"text",content:e.slice(O,e.indexOf("<",O))}),a===0&&r.push(t),(j=o[a-1])&&j.children.push(t),o[a]=t),(!x||t.voidElement)&&(a>-1&&(t.voidElement||t.name===v.slice(2,-1))&&(a--,t=a===-1?r:o[a]),!u&&g!=="<"&&g)){j=a===-1?r:o[a].children;var p=e.indexOf("<",O),y=e.slice(O,p===-1?void 0:p);ce.test(y)&&(y=" "),(p>-1&&a+j.length>=0||y!==" ")&&j.push({type:"text",content:y})}}),r},stringify:function(e){return e.reduce(function(n,t){return n+M("",t)},"")}},ve=["format"],me=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?C(Object(t),!0).forEach(function(r){z(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function $(e,n){if(!e)return!1;var t=e.props?e.props.children:e.children;return n?t.length>0:!!t}function V(e){return e?e.props?e.props.children:e.children:[]}function ye(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(n){return d.isValidElement(n)})}function K(e){return Array.isArray(e)?e:[e]}function Oe(e,n){var t=m({},n);return t.props=Object.assign(e.props,n.props),t}function X(e,n){if(!e)return"";var t="",r=K(e),o=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return r.forEach(function(a,u){if(typeof a=="string")t+="".concat(a);else if(d.isValidElement(a)){var l=Object.keys(a.props).length,v=o.indexOf(a.type)>-1,h=a.props.children;if(!h&&v&&l===0)t+="<".concat(a.type,"/>");else if(!h&&(!v||l!==0))t+="<".concat(u,"></").concat(u,">");else if(a.props.i18nIsDynamicList)t+="<".concat(u,"></").concat(u,">");else if(v&&l===1&&typeof h=="string")t+="<".concat(a.type,">").concat(h,"</").concat(a.type,">");else{var j=X(h,n);t+="<".concat(u,">").concat(j,"</").concat(u,">")}}else if(a===null)N("Trans: the passed in value is invalid - seems you passed in a null child.");else if(D(a)==="object"){var x=a.format,P=U(a,ve),O=Object.keys(P);if(O.length===1){var g=x?"".concat(O[0],", ").concat(x):O[0];t+="{{".concat(g,"}}")}else N("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else N("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),t}function be(e,n,t,r,o,a){if(n==="")return[];var u=r.transKeepBasicHtmlNodesFor||[],l=n&&new RegExp(u.join("|")).test(n);if(!e&&!l)return[n];var v={};function h(p){var y=K(p);y.forEach(function(i){typeof i!="string"&&($(i)?h(V(i)):D(i)==="object"&&!d.isValidElement(i)&&Object.assign(v,i))})}h(e);var j=fe.parse("<0>".concat(n,"</0>")),x=m(m({},v),o);function P(p,y,i){var c=V(p),E=g(c,y.children,i);return ye(c)&&E.length===0?c:E}function O(p,y,i,c,E){p.dummy&&(p.children=y),i.push(d.cloneElement(p,m(m({},p.props),{},{key:c}),E?void 0:y))}function g(p,y,i){var c=K(p),E=K(y);return E.reduce(function(b,s,w){var S=s.children&&s.children[0]&&s.children[0].content&&t.services.interpolator.interpolate(s.children[0].content,x,t.language);if(s.type==="tag"){var A=c[parseInt(s.name,10)];!A&&i.length===1&&i[0][s.name]&&(A=i[0][s.name]),A||(A={});var f=Object.keys(s.attrs).length!==0?Oe({props:s.attrs},A):A,T=d.isValidElement(f),F=T&&$(s,!0)&&!s.voidElement,Y=l&&D(f)==="object"&&f.dummy&&!T,Z=D(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,s.name);if(typeof f=="string"){var q=t.services.interpolator.interpolate(f,x,t.language);b.push(q)}else if($(f)||F){var G=P(f,s,i);O(f,G,b,w)}else if(Y){var Q=g(c,s.children,i);b.push(d.cloneElement(f,m(m({},f.props),{},{key:w}),Q))}else if(Number.isNaN(parseFloat(s.name)))if(Z){var R=P(f,s,i);O(f,R,b,w,s.voidElement)}else if(r.transSupportBasicHtmlNodes&&u.indexOf(s.name)>-1)if(s.voidElement)b.push(d.createElement(s.name,{key:"".concat(s.name,"-").concat(w)}));else{var _=g(c,s.children,i);b.push(d.createElement(s.name,{key:"".concat(s.name,"-").concat(w)},_))}else if(s.voidElement)b.push("<".concat(s.name," />"));else{var ee=g(c,s.children,i);b.push("<".concat(s.name,">").concat(ee,"</").concat(s.name,">"))}else if(D(f)==="object"&&!T){var B=s.children[0]?S:null;B&&b.push(B)}else s.children.length===1&&S?b.push(d.cloneElement(f,m(m({},f.props),{},{key:w}),S)):b.push(d.cloneElement(f,m(m({},f.props),{},{key:w})))}else if(s.type==="text"){var H=r.transWrapTextNodes,W=a?r.unescape(t.services.interpolator.interpolate(s.content,x,t.language)):t.services.interpolator.interpolate(s.content,x,t.language);H?b.push(d.createElement(H,{key:"".concat(s.name,"-").concat(w)},W)):b.push(W)}return b},[])}var k=g([{dummy:!0,children:e||[]}],j,K(e||[]));return V(k[0])}function ge(e){var n=e.children,t=e.count,r=e.parent,o=e.i18nKey,a=e.context,u=e.tOptions,l=u===void 0?{}:u,v=e.values,h=e.defaults,j=e.components,x=e.ns,P=e.i18n,O=e.t,g=e.shouldUnescape,k=U(e,me),p=P||J();if(!p)return re("You will need to pass in an i18next instance by using i18nextReactModule"),n;var y=O||p.t.bind(p)||function(F){return F};a&&(l.context=a);var i=m(m({},te()),p.options&&p.options.react),c=x||y.ns||p.options&&p.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"];var E=h||X(n,i)||i.transEmptyNodeValue||o,b=i.hashTransKey,s=o||(b?b(E):E),w=v?l.interpolation:{interpolation:m(m({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},S=m(m(m(m({},l),{},{count:t},v),w),{},{defaultValue:E,ns:c}),A=s?y(s,S):E,f=be(j||n,A,p,i,S,g),T=r!==void 0?r:i.defaultTransParent;return T?d.createElement(T,k,f):f}var he=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function je(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?L(Object(t),!0).forEach(function(r){z(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ae(e){var n=e.children,t=e.count,r=e.parent,o=e.i18nKey,a=e.context,u=e.tOptions,l=u===void 0?{}:u,v=e.values,h=e.defaults,j=e.components,x=e.ns,P=e.i18n,O=e.t,g=e.shouldUnescape,k=U(e,he),p=d.useContext(ae)||{},y=p.i18n,i=p.defaultNS,c=P||y||J(),E=O||c&&c.t.bind(c);return ge(je({children:n,count:t,parent:r,i18nKey:o,context:a,tOptions:l,values:v,defaults:h,components:j,ns:x||E&&E.ns||i||c&&c.options&&c.options.defaultNS,i18n:c,t:O,shouldUnescape:g},k))}export{Ae as T};
