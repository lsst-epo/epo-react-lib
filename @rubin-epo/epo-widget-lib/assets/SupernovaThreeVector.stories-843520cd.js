import{s as C,j as N}from"./styled-components.browser.esm-e0114bd2.js";import{r as Tn}from"./index-8db94870.js";import{H as Se}from"./HorizontalSlider-a5320790.js";import{c as Xn,g as pt}from"./utils-54f41c78.js";import{g as ye}from"./_commonjsHelpers-042e6b4d.js";import{d as _e}from"./isSymbol-f1e92ba4.js";import{t as Ee,I as Me}from"./index-aff813a1.js";import{t as Le}from"./toNumber-d7724b6f.js";import{t as we}from"./toString-bc7f5975.js";import{u as st}from"./useTranslation-fdd24caa.js";import{t as tn}from"./index-223833fa.js";import{R as xe}from"./index-83633d92.js";import{B as Xt}from"./index-b48b975d.js";import{X as Re}from"./index-42ed9bd3.js";import{G as $e}from"./index-3d39e395.js";import{Y as Ie}from"./index-600f51cf.js";import{B as Ne}from"./index-8834bc9f.js";import{T as Yt,n as dt}from"./index-abcb9422.js";import{X as Te}from"./styles-2fca3e33.js";import{r as nn}from"./range-6bc2a9a0.js";import{a as ht,m as Ve}from"./min-d247b692.js";import"./IconComposer-0a5b6514.js";import"./index-12ae03d4.js";import"./CircularLoader-50e78b89.js";import"./_baseToString-b5a9b60d.js";import"./i18nInstance-764935cb.js";import"./toPropertyKey-148bb9ef.js";import"./context-3d6b95f0.js";import"./utils-7aca7d2f.js";import"./Button-accaf53d.js";class rn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const a=i[r],l=t+a,u=Math.abs(t)<Math.abs(a)?t-(l-a):a-(l-t);u&&(i[e++]=u),t=l}return i[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let i=this._n,e,r,a,l=0;if(i>0){for(l=t[--i];i>0&&(e=l,r=t[--i],l=e+r,a=r-(l-e),!a););i>0&&(a<0&&t[i-1]<0||a>0&&t[i-1]>0)&&(r=a*2,e=l+r,r==e-l&&(l=e))}return l}}function*Ae(n){for(const t of n)yield*t}function Gt(n){return Array.from(Ae(n))}var je=_e,Pe=Ee,ke=Le,gt=we,qe=je.isFinite,Be=Math.min;function ze(n){var t=Math[n];return function(i,e){if(i=ke(i),e=e==null?0:Be(Pe(e),292),e&&qe(i)){var r=(gt(i)+"e").split("e"),a=t(r[0]+"e"+(+r[1]+e));return r=(gt(a)+"e").split("e"),+(r[0]+"e"+(+r[1]-e))}return t(i)}}var De=ze,Ce=De,Oe=Ce("round"),He=Oe;const mt=ye(He),We=C.span`
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  height: 1px;
  width: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
`,Kt=({id:n,children:t})=>N.jsx(We,{"aria-live":"polite",id:n,children:t});Kt.displayName="Atomic.LiveRegion";try{Atomic.LiveRegion.displayName="Atomic.LiveRegion",Atomic.LiveRegion.__docgenInfo={description:"",displayName:"Atomic.LiveRegion",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}}}catch{}const Zt=({id:n,supernovaCount:t,objects:i,min:e,max:r})=>{const{t:a,i18n:{language:l}}=st(),u=new Intl.ListFormat(l,{style:"long",type:"conjunction"}),{format:m}=new Intl.NumberFormat(l,{maximumFractionDigits:0}),g=i.map(({lat:o,long:s})=>`${m(mt(o,-1))}° ${m(mt(s,-1))}°`);return N.jsx(Kt,{id:n,children:a("supernova_three_vector.skymap.description",{supernovaCount:t,userObjectCount:i.length,coords:u.format(g),min:e,max:r})})};Zt.displayName="Widgets.SupernovaThreVector.LiveLabel";const be=Zt;try{Widgets.SupernovaThreVector.LiveLabel.displayName="Widgets.SupernovaThreVector.LiveLabel",Widgets.SupernovaThreVector.LiveLabel.__docgenInfo={description:"",displayName:"Widgets.SupernovaThreVector.LiveLabel",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},supernovaCount:{defaultValue:null,description:"",name:"supernovaCount",required:!0,type:{name:"number"}},objects:{defaultValue:null,description:"",name:"objects",required:!0,type:{name:"SkymapObject[]"}},min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}}}}}catch{}const Fe=C.text`
  dominant-baseline: text-before-edge;
  font-size: 0.4em;
  text-anchor: end;
`,Xe=({data:n,margin:t,activeRange:i,xDomain:e,yDomain:r,xScale:a,yScale:l,yTicks:u,xTicks:m,step:g,width:o,height:s,className:c})=>{const{t:d}=st(),[f,_]=Tn.useState(),v=l(r[0]),S="xAxisLabel",M=typeof f=="number",h=n.map(({value:y,bin:E},L)=>({x:E,value:y,width:12,fill:Xn(E,i[0],i[1])?void 0:"#30E0E3",props:{"aria-label":d("supernova_three_vector.histogram.bar_label",{count:y,binMin:E,binMax:E+g}),onMouseOver:()=>_(L),onMouseOut:()=>_(void 0)}}));return N.jsxs(Xt,{xMin:e[0],yMin:r[0],width:o,height:s,className:c,horizontalLabel:d("supernova_three_vector.histogram.x_label")||void 0,horizontalLabelId:S,children:[N.jsx(Ie,{showBaseline:!1,x:a(e[0])-10,ticks:u,tickLength:0,labelRender:(y,E,L)=>N.jsx(Fe,{x:E,y:L,children:y}),yDomain:r,yScale:l}),N.jsx($e,{guides:u,xDomain:e,xScale:a,yDomain:r,yScale:l,margin:t}),N.jsx(Ne,{data:h,xDomain:e,yDomain:r,xScale:a,yScale:l}),N.jsx(Re,{ticks:m,y:v,labelledById:S,labelRender:(y,E,L)=>N.jsx(Te,{x:E,y:L+5,children:y}),xDomain:e,xScale:a,margin:t}),N.jsx(Yt,{x:M?a(n[f].bin):0,y:M?l(h[f].value):0,visible:M,children:M?h[f].value:null})]})},Ye=Xe;try{Histogram.displayName="Histogram",Histogram.__docgenInfo={description:"",displayName:"Histogram",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"HistogramData"}},activeRange:{defaultValue:null,description:"",name:"activeRange",required:!0,type:{name:"number[]"}},margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"ChartMargin"}},xDomain:{defaultValue:null,description:"",name:"xDomain",required:!0,type:{name:"Domain"}},yDomain:{defaultValue:null,description:"",name:"yDomain",required:!0,type:{name:"Domain"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleFunction"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleFunction"}},yTicks:{defaultValue:null,description:"",name:"yTicks",required:!0,type:{name:"number"}},xTicks:{defaultValue:null,description:"",name:"xTicks",required:!0,type:{name:"number"}},step:{defaultValue:null,description:"",name:"step",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}var V=1e-6,Ge=1e-12,j=Math.PI,b=j/2,vt=j/4,X=j*2,J=180/j,H=j/180,k=Math.abs,Ke=Math.atan,yn=Math.atan2,q=Math.cos,Ln=Math.ceil,B=Math.sin,Ze=Math.sign||function(n){return n>0?1:n<0?-1:0},an=Math.sqrt;function Ue(n){return n>1?0:n<-1?j:Math.acos(n)}function _n(n){return n>1?b:n<-1?-b:Math.asin(n)}function F(){}function Vn(n,t){n&&yt.hasOwnProperty(n.type)&&yt[n.type](n,t)}var St={Feature:function(n,t){Vn(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,e=-1,r=i.length;++e<r;)Vn(i[e].geometry,t)}},yt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)n=i[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Yn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)Yn(i[e],t,0)},Polygon:function(n,t){_t(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)_t(i[e],t)},GeometryCollection:function(n,t){for(var i=n.geometries,e=-1,r=i.length;++e<r;)Vn(i[e],t)}};function Yn(n,t,i){var e=-1,r=n.length-i,a;for(t.lineStart();++e<r;)a=n[e],t.point(a[0],a[1],a[2]);t.lineEnd()}function _t(n,t){var i=-1,e=n.length;for(t.polygonStart();++i<e;)Yn(n[i],t,1);t.polygonEnd()}function ln(n,t){n&&St.hasOwnProperty(n.type)?St[n.type](n,t):Vn(n,t)}function Gn(n){return[yn(n[1],n[0]),_n(n[2])]}function fn(n){var t=n[0],i=n[1],e=q(i);return[e*q(t),e*B(t),B(i)]}function wn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function An(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function On(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Kn(n){var t=an(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Zn(n,t){function i(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(i.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),i}function Un(n,t){return k(n)>j&&(n-=Math.round(n/X)*X),[n,t]}Un.invert=Un;function Je(n,t,i){return(n%=X)?t||i?Zn(Mt(n),Lt(t,i)):Mt(n):t||i?Lt(t,i):Un}function Et(n){return function(t,i){return t+=n,k(t)>j&&(t-=Math.round(t/X)*X),[t,i]}}function Mt(n){var t=Et(n);return t.invert=Et(-n),t}function Lt(n,t){var i=q(n),e=B(n),r=q(t),a=B(t);function l(u,m){var g=q(m),o=q(u)*g,s=B(u)*g,c=B(m),d=c*i+o*e;return[yn(s*r-d*a,o*i-c*e),_n(d*r+s*a)]}return l.invert=function(u,m){var g=q(m),o=q(u)*g,s=B(u)*g,c=B(m),d=c*r-s*a;return[yn(s*r+c*a,o*i+d*e),_n(d*i-o*e)]},l}function Qe(n,t,i,e,r,a){if(i){var l=q(t),u=B(t),m=e*i;r==null?(r=t+e*X,a=t-m/2):(r=wt(l,r),a=wt(l,a),(e>0?r<a:r>a)&&(r+=e*X));for(var g,o=r;e>0?o>a:o<a;o-=m)g=Gn([l,-u*q(o),-u*B(o)]),n.point(g[0],g[1])}}function wt(n,t){t=fn(t),t[0]-=n,Kn(t);var i=Ue(-t[1]);return((-t[2]<0?-i:i)+X-V)%X}function Ut(){var n=[],t;return{point:function(i,e,r){t.push([i,e,r])},lineStart:function(){n.push(t=[])},lineEnd:F,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],t=null,i}}}function Nn(n,t){return k(n[0]-t[0])<V&&k(n[1]-t[1])<V}function Rn(n,t,i,e){this.x=n,this.z=t,this.o=i,this.e=e,this.v=!1,this.n=this.p=null}function Jt(n,t,i,e,r){var a=[],l=[],u,m;if(n.forEach(function(f){if(!((_=f.length-1)<=0)){var _,v=f[0],S=f[_],M;if(Nn(v,S)){if(!v[2]&&!S[2]){for(r.lineStart(),u=0;u<_;++u)r.point((v=f[u])[0],v[1]);r.lineEnd();return}S[0]+=2*V}a.push(M=new Rn(v,f,null,!0)),l.push(M.o=new Rn(v,null,M,!1)),a.push(M=new Rn(S,f,null,!1)),l.push(M.o=new Rn(S,null,M,!0))}}),!!a.length){for(l.sort(t),xt(a),xt(l),u=0,m=l.length;u<m;++u)l[u].e=i=!i;for(var g=a[0],o,s;;){for(var c=g,d=!0;c.v;)if((c=c.n)===g)return;o=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(u=0,m=o.length;u<m;++u)r.point((s=o[u])[0],s[1]);else e(c.x,c.n.x,1,r);c=c.n}else{if(d)for(o=c.p.z,u=o.length-1;u>=0;--u)r.point((s=o[u])[0],s[1]);else e(c.x,c.p.x,-1,r);c=c.p}c=c.o,o=c.z,d=!d}while(!c.v);r.lineEnd()}}}function xt(n){if(t=n.length){for(var t,i=0,e=n[0],r;++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function Hn(n){return k(n[0])<=j?n[0]:Ze(n[0])*((k(n[0])+j)%X-j)}function ni(n,t){var i=Hn(t),e=t[1],r=B(e),a=[B(i),-q(i),0],l=0,u=0,m=new rn;r===1?e=b+V:r===-1&&(e=-b-V);for(var g=0,o=n.length;g<o;++g)if(c=(s=n[g]).length)for(var s,c,d=s[c-1],f=Hn(d),_=d[1]/2+vt,v=B(_),S=q(_),M=0;M<c;++M,f=y,v=L,S=T,d=h){var h=s[M],y=Hn(h),E=h[1]/2+vt,L=B(E),T=q(E),R=y-f,$=R>=0?1:-1,A=$*R,w=A>j,z=v*L;if(m.add(yn(z*$*B(A),S*T+z*q(A))),l+=w?R+$*X:R,w^f>=i^y>=i){var x=An(fn(d),fn(h));Kn(x);var P=An(a,x);Kn(P);var p=(w^R>=0?-1:1)*_n(P[2]);(e>p||e===p&&(x[0]||x[1]))&&(u+=w^R>=0?1:-1)}}return(l<-V||l<V&&m<-Ge)^u&1}function Qt(n,t,i,e){return function(r){var a=t(r),l=Ut(),u=t(l),m=!1,g,o,s,c={point:d,lineStart:_,lineEnd:v,polygonStart:function(){c.point=S,c.lineStart=M,c.lineEnd=h,o=[],g=[]},polygonEnd:function(){c.point=d,c.lineStart=_,c.lineEnd=v,o=Gt(o);var y=ni(g,e);o.length?(m||(r.polygonStart(),m=!0),Jt(o,ei,y,i,r)):y&&(m||(r.polygonStart(),m=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),m&&(r.polygonEnd(),m=!1),o=g=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(y,E){n(y,E)&&r.point(y,E)}function f(y,E){a.point(y,E)}function _(){c.point=f,a.lineStart()}function v(){c.point=d,a.lineEnd()}function S(y,E){s.push([y,E]),u.point(y,E)}function M(){u.lineStart(),s=[]}function h(){S(s[0][0],s[0][1]),u.lineEnd();var y=u.clean(),E=l.result(),L,T=E.length,R,$,A;if(s.pop(),g.push(s),s=null,!!T){if(y&1){if($=E[0],(R=$.length-1)>0){for(m||(r.polygonStart(),m=!0),r.lineStart(),L=0;L<R;++L)r.point((A=$[L])[0],A[1]);r.lineEnd()}return}T>1&&y&2&&E.push(E.pop().concat(E.shift())),o.push(E.filter(ti))}}return c}}function ti(n){return n.length>1}function ei(n,t){return((n=n.x)[0]<0?n[1]-b-V:b-n[1])-((t=t.x)[0]<0?t[1]-b-V:b-t[1])}const Rt=Qt(function(){return!0},ii,oi,[-j,-b]);function ii(n){var t=NaN,i=NaN,e=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(a,l){var u=a>0?j:-j,m=k(a-t);k(m-j)<V?(n.point(t,i=(i+l)/2>0?b:-b),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(u,i),n.point(a,i),r=0):e!==u&&m>=j&&(k(t-e)<V&&(t-=e*V),k(a-u)<V&&(a-=u*V),i=ri(t,i,a,l),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(u,i),r=0),n.point(t=a,i=l),e=u},lineEnd:function(){n.lineEnd(),t=i=NaN},clean:function(){return 2-r}}}function ri(n,t,i,e){var r,a,l=B(n-i);return k(l)>V?Ke((B(t)*(a=q(e))*B(i)-B(e)*(r=q(t))*B(n))/(r*a*l)):(t+e)/2}function oi(n,t,i,e){var r;if(n==null)r=i*b,e.point(-j,r),e.point(0,r),e.point(j,r),e.point(j,0),e.point(j,-r),e.point(0,-r),e.point(-j,-r),e.point(-j,0),e.point(-j,r);else if(k(n[0]-t[0])>V){var a=n[0]<t[0]?j:-j;r=i*a/2,e.point(-a,r),e.point(0,r),e.point(a,r)}else e.point(t[0],t[1])}function ai(n){var t=q(n),i=6*H,e=t>0,r=k(t)>V;function a(o,s,c,d){Qe(d,n,i,c,o,s)}function l(o,s){return q(o)*q(s)>t}function u(o){var s,c,d,f,_;return{lineStart:function(){f=d=!1,_=1},point:function(v,S){var M=[v,S],h,y=l(v,S),E=e?y?0:g(v,S):y?g(v+(v<0?j:-j),S):0;if(!s&&(f=d=y)&&o.lineStart(),y!==d&&(h=m(s,M),(!h||Nn(s,h)||Nn(M,h))&&(M[2]=1)),y!==d)_=0,y?(o.lineStart(),h=m(M,s),o.point(h[0],h[1])):(h=m(s,M),o.point(h[0],h[1],2),o.lineEnd()),s=h;else if(r&&s&&e^y){var L;!(E&c)&&(L=m(M,s,!0))&&(_=0,e?(o.lineStart(),o.point(L[0][0],L[0][1]),o.point(L[1][0],L[1][1]),o.lineEnd()):(o.point(L[1][0],L[1][1]),o.lineEnd(),o.lineStart(),o.point(L[0][0],L[0][1],3)))}y&&(!s||!Nn(s,M))&&o.point(M[0],M[1]),s=M,d=y,c=E},lineEnd:function(){d&&o.lineEnd(),s=null},clean:function(){return _|(f&&d)<<1}}}function m(o,s,c){var d=fn(o),f=fn(s),_=[1,0,0],v=An(d,f),S=wn(v,v),M=v[0],h=S-M*M;if(!h)return!c&&o;var y=t*S/h,E=-t*M/h,L=An(_,v),T=xn(_,y),R=xn(v,E);On(T,R);var $=L,A=wn(T,$),w=wn($,$),z=A*A-w*(wn(T,T)-1);if(!(z<0)){var x=an(z),P=xn($,(-A-x)/w);if(On(P,T),P=Gn(P),!c)return P;var p=o[0],I=s[0],D=o[1],O=s[1],W;I<p&&(W=p,p=I,I=W);var dn=I-p,Z=k(dn-j)<V,en=Z||dn<V;if(!Z&&O<D&&(W=D,D=O,O=W),en?Z?D+O>0^P[1]<(k(P[0]-p)<V?D:O):D<=P[1]&&P[1]<=O:dn>j^(p<=P[0]&&P[0]<=I)){var U=xn($,(-A+x)/w);return On(U,T),[P,Gn(U)]}}}function g(o,s){var c=e?n:j-n,d=0;return o<-c?d|=1:o>c&&(d|=2),s<-c?d|=4:s>c&&(d|=8),d}return Qt(l,u,a,e?[0,-n]:[-j,n-j])}function ui(n,t,i,e,r,a){var l=n[0],u=n[1],m=t[0],g=t[1],o=0,s=1,c=m-l,d=g-u,f;if(f=i-l,!(!c&&f>0)){if(f/=c,c<0){if(f<o)return;f<s&&(s=f)}else if(c>0){if(f>s)return;f>o&&(o=f)}if(f=r-l,!(!c&&f<0)){if(f/=c,c<0){if(f>s)return;f>o&&(o=f)}else if(c>0){if(f<o)return;f<s&&(s=f)}if(f=e-u,!(!d&&f>0)){if(f/=d,d<0){if(f<o)return;f<s&&(s=f)}else if(d>0){if(f>s)return;f>o&&(o=f)}if(f=a-u,!(!d&&f<0)){if(f/=d,d<0){if(f>s)return;f>o&&(o=f)}else if(d>0){if(f<o)return;f<s&&(s=f)}return o>0&&(n[0]=l+o*c,n[1]=u+o*d),s<1&&(t[0]=l+s*c,t[1]=u+s*d),!0}}}}}var hn=1e9,$n=-hn;function li(n,t,i,e){function r(g,o){return n<=g&&g<=i&&t<=o&&o<=e}function a(g,o,s,c){var d=0,f=0;if(g==null||(d=l(g,s))!==(f=l(o,s))||m(g,o)<0^s>0)do c.point(d===0||d===3?n:i,d>1?e:t);while((d=(d+s+4)%4)!==f);else c.point(o[0],o[1])}function l(g,o){return k(g[0]-n)<V?o>0?0:3:k(g[0]-i)<V?o>0?2:1:k(g[1]-t)<V?o>0?1:0:o>0?3:2}function u(g,o){return m(g.x,o.x)}function m(g,o){var s=l(g,1),c=l(o,1);return s!==c?s-c:s===0?o[1]-g[1]:s===1?g[0]-o[0]:s===2?g[1]-o[1]:o[0]-g[0]}return function(g){var o=g,s=Ut(),c,d,f,_,v,S,M,h,y,E,L,T={point:R,lineStart:z,lineEnd:x,polygonStart:A,polygonEnd:w};function R(p,I){r(p,I)&&o.point(p,I)}function $(){for(var p=0,I=0,D=d.length;I<D;++I)for(var O=d[I],W=1,dn=O.length,Z=O[0],en,U,Mn=Z[0],un=Z[1];W<dn;++W)en=Mn,U=un,Z=O[W],Mn=Z[0],un=Z[1],U<=e?un>e&&(Mn-en)*(e-U)>(un-U)*(n-en)&&++p:un<=e&&(Mn-en)*(e-U)<(un-U)*(n-en)&&--p;return p}function A(){o=s,c=[],d=[],L=!0}function w(){var p=$(),I=L&&p,D=(c=Gt(c)).length;(I||D)&&(g.polygonStart(),I&&(g.lineStart(),a(null,null,1,g),g.lineEnd()),D&&Jt(c,u,p,a,g),g.polygonEnd()),o=g,c=d=f=null}function z(){T.point=P,d&&d.push(f=[]),E=!0,y=!1,M=h=NaN}function x(){c&&(P(_,v),S&&y&&s.rejoin(),c.push(s.result())),T.point=R,y&&o.lineEnd()}function P(p,I){var D=r(p,I);if(d&&f.push([p,I]),E)_=p,v=I,S=D,E=!1,D&&(o.lineStart(),o.point(p,I));else if(D&&y)o.point(p,I);else{var O=[M=Math.max($n,Math.min(hn,M)),h=Math.max($n,Math.min(hn,h))],W=[p=Math.max($n,Math.min(hn,p)),I=Math.max($n,Math.min(hn,I))];ui(O,W,n,t,i,e)?(y||(o.lineStart(),o.point(O[0],O[1])),o.point(W[0],W[1]),D||o.lineEnd(),L=!1):D&&(o.lineStart(),o.point(p,I),L=!1)}M=p,h=I,y=D}return T}}function $t(n,t,i){var e=nn(n,t-V,i).concat(t);return function(r){return e.map(function(a){return[r,a]})}}function It(n,t,i){var e=nn(n,t-V,i).concat(t);return function(r){return e.map(function(a){return[a,r]})}}function si(){var n,t,i,e,r,a,l,u,m=10,g=m,o=90,s=360,c,d,f,_,v=2.5;function S(){return{type:"MultiLineString",coordinates:M()}}function M(){return nn(Ln(e/o)*o,i,o).map(f).concat(nn(Ln(u/s)*s,l,s).map(_)).concat(nn(Ln(t/m)*m,n,m).filter(function(h){return k(h%o)>V}).map(c)).concat(nn(Ln(a/g)*g,r,g).filter(function(h){return k(h%s)>V}).map(d))}return S.lines=function(){return M().map(function(h){return{type:"LineString",coordinates:h}})},S.outline=function(){return{type:"Polygon",coordinates:[f(e).concat(_(l).slice(1),f(i).reverse().slice(1),_(u).reverse().slice(1))]}},S.extent=function(h){return arguments.length?S.extentMajor(h).extentMinor(h):S.extentMinor()},S.extentMajor=function(h){return arguments.length?(e=+h[0][0],i=+h[1][0],u=+h[0][1],l=+h[1][1],e>i&&(h=e,e=i,i=h),u>l&&(h=u,u=l,l=h),S.precision(v)):[[e,u],[i,l]]},S.extentMinor=function(h){return arguments.length?(t=+h[0][0],n=+h[1][0],a=+h[0][1],r=+h[1][1],t>n&&(h=t,t=n,n=h),a>r&&(h=a,a=r,r=h),S.precision(v)):[[t,a],[n,r]]},S.step=function(h){return arguments.length?S.stepMajor(h).stepMinor(h):S.stepMinor()},S.stepMajor=function(h){return arguments.length?(o=+h[0],s=+h[1],S):[o,s]},S.stepMinor=function(h){return arguments.length?(m=+h[0],g=+h[1],S):[m,g]},S.precision=function(h){return arguments.length?(v=+h,c=$t(a,r,90),d=It(t,n,v),f=$t(u,l,90),_=It(e,i,v),S):v},S.extentMajor([[-180,-90+V],[180,90-V]]).extentMinor([[-180,-80-V],[180,80+V]])}const Jn=n=>n;var Wn=new rn,Qn=new rn,ne,te,nt,tt,Q={point:F,lineStart:F,lineEnd:F,polygonStart:function(){Q.lineStart=ci,Q.lineEnd=pi},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=F,Wn.add(k(Qn)),Qn=new rn},result:function(){var n=Wn/2;return Wn=new rn,n}};function ci(){Q.point=fi}function fi(n,t){Q.point=ee,ne=nt=n,te=tt=t}function ee(n,t){Qn.add(tt*n-nt*t),nt=n,tt=t}function pi(){ee(ne,te)}const Nt=Q;var pn=1/0,jn=pn,En=-pn,Pn=En,di={point:hi,lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F,result:function(){var n=[[pn,jn],[En,Pn]];return En=Pn=-(jn=pn=1/0),n}};function hi(n,t){n<pn&&(pn=n),n>En&&(En=n),t<jn&&(jn=t),t>Pn&&(Pn=t)}const kn=di;var et=0,it=0,gn=0,qn=0,Bn=0,sn=0,rt=0,ot=0,mn=0,ie,re,G,K,Y={point:on,lineStart:Tt,lineEnd:Vt,polygonStart:function(){Y.lineStart=vi,Y.lineEnd=Si},polygonEnd:function(){Y.point=on,Y.lineStart=Tt,Y.lineEnd=Vt},result:function(){var n=mn?[rt/mn,ot/mn]:sn?[qn/sn,Bn/sn]:gn?[et/gn,it/gn]:[NaN,NaN];return et=it=gn=qn=Bn=sn=rt=ot=mn=0,n}};function on(n,t){et+=n,it+=t,++gn}function Tt(){Y.point=gi}function gi(n,t){Y.point=mi,on(G=n,K=t)}function mi(n,t){var i=n-G,e=t-K,r=an(i*i+e*e);qn+=r*(G+n)/2,Bn+=r*(K+t)/2,sn+=r,on(G=n,K=t)}function Vt(){Y.point=on}function vi(){Y.point=yi}function Si(){oe(ie,re)}function yi(n,t){Y.point=oe,on(ie=G=n,re=K=t)}function oe(n,t){var i=n-G,e=t-K,r=an(i*i+e*e);qn+=r*(G+n)/2,Bn+=r*(K+t)/2,sn+=r,r=K*n-G*t,rt+=r*(G+n),ot+=r*(K+t),mn+=r*3,on(G=n,K=t)}const At=Y;function ae(n){this._context=n}ae.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,X);break}}},result:F};var at=new rn,bn,ue,le,vn,Sn,zn={point:F,lineStart:function(){zn.point=_i},lineEnd:function(){bn&&se(ue,le),zn.point=F},polygonStart:function(){bn=!0},polygonEnd:function(){bn=null},result:function(){var n=+at;return at=new rn,n}};function _i(n,t){zn.point=se,ue=vn=n,le=Sn=t}function se(n,t){vn-=n,Sn-=t,at.add(an(vn*vn+Sn*Sn)),vn=n,Sn=t}const jt=zn;let Pt,Dn,kt,qt;class Bt{constructor(t){this._append=t==null?ce:Ei(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:{this._append`M${t},${i}`,this._point=1;break}case 1:{this._append`L${t},${i}`;break}default:{if(this._append`M${t},${i}`,this._radius!==kt||this._append!==Dn){const e=this._radius,r=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,kt=e,Dn=this._append,qt=this._,this._=r}this._+=qt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function ce(n){let t=1;this._+=n[0];for(const i=n.length;t<i;++t)this._+=arguments[t]+n[t]}function Ei(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return ce;if(t!==Pt){const i=10**t;Pt=t,Dn=function(r){let a=1;this._+=r[0];for(const l=r.length;a<l;++a)this._+=Math.round(arguments[a]*i)/i+r[a]}}return Dn}function Mi(n,t){let i=3,e=4.5,r,a;function l(u){return u&&(typeof e=="function"&&a.pointRadius(+e.apply(this,arguments)),ln(u,r(a))),a.result()}return l.area=function(u){return ln(u,r(Nt)),Nt.result()},l.measure=function(u){return ln(u,r(jt)),jt.result()},l.bounds=function(u){return ln(u,r(kn)),kn.result()},l.centroid=function(u){return ln(u,r(At)),At.result()},l.projection=function(u){return arguments.length?(r=u==null?(n=null,Jn):(n=u).stream,l):n},l.context=function(u){return arguments.length?(a=u==null?(t=null,new Bt(i)):new ae(t=u),typeof e!="function"&&a.pointRadius(e),l):t},l.pointRadius=function(u){return arguments.length?(e=typeof u=="function"?u:(a.pointRadius(+u),+u),l):e},l.digits=function(u){if(!arguments.length)return i;if(u==null)i=null;else{const m=Math.floor(u);if(!(m>=0))throw new RangeError(`invalid digits: ${u}`);i=m}return t===null&&(a=new Bt(i)),l},l.projection(n).digits(i).context(t)}function ct(n){return function(t){var i=new ut;for(var e in n)i[e]=n[e];return i.stream=t,i}}function ut(){}ut.prototype={constructor:ut,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ft(n,t,i){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),ln(i,n.stream(kn)),t(kn.result()),e!=null&&n.clipExtent(e),n}function fe(n,t,i){return ft(n,function(e){var r=t[1][0]-t[0][0],a=t[1][1]-t[0][1],l=Math.min(r/(e[1][0]-e[0][0]),a/(e[1][1]-e[0][1])),u=+t[0][0]+(r-l*(e[1][0]+e[0][0]))/2,m=+t[0][1]+(a-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([u,m])},i)}function Li(n,t,i){return fe(n,[[0,0],t],i)}function wi(n,t,i){return ft(n,function(e){var r=+t,a=r/(e[1][0]-e[0][0]),l=(r-a*(e[1][0]+e[0][0]))/2,u=-a*e[0][1];n.scale(150*a).translate([l,u])},i)}function xi(n,t,i){return ft(n,function(e){var r=+t,a=r/(e[1][1]-e[0][1]),l=-a*e[0][0],u=(r-a*(e[1][1]+e[0][1]))/2;n.scale(150*a).translate([l,u])},i)}var zt=16,Ri=q(30*H);function Dt(n,t){return+t?Ii(n,t):$i(n)}function $i(n){return ct({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}function Ii(n,t){function i(e,r,a,l,u,m,g,o,s,c,d,f,_,v){var S=g-e,M=o-r,h=S*S+M*M;if(h>4*t&&_--){var y=l+c,E=u+d,L=m+f,T=an(y*y+E*E+L*L),R=_n(L/=T),$=k(k(L)-1)<V||k(a-s)<V?(a+s)/2:yn(E,y),A=n($,R),w=A[0],z=A[1],x=w-e,P=z-r,p=M*x-S*P;(p*p/h>t||k((S*x+M*P)/h-.5)>.3||l*c+u*d+m*f<Ri)&&(i(e,r,a,l,u,m,w,z,$,y/=T,E/=T,L,_,v),v.point(w,z),i(w,z,$,y,E,L,g,o,s,c,d,f,_,v))}}return function(e){var r,a,l,u,m,g,o,s,c,d,f,_,v={point:S,lineStart:M,lineEnd:y,polygonStart:function(){e.polygonStart(),v.lineStart=E},polygonEnd:function(){e.polygonEnd(),v.lineStart=M}};function S(R,$){R=n(R,$),e.point(R[0],R[1])}function M(){s=NaN,v.point=h,e.lineStart()}function h(R,$){var A=fn([R,$]),w=n(R,$);i(s,c,o,d,f,_,s=w[0],c=w[1],o=R,d=A[0],f=A[1],_=A[2],zt,e),e.point(s,c)}function y(){v.point=S,e.lineEnd()}function E(){M(),v.point=L,v.lineEnd=T}function L(R,$){h(r=R,$),a=s,l=c,u=d,m=f,g=_,v.point=h}function T(){i(s,c,o,d,f,_,a,l,r,u,m,g,zt,e),v.lineEnd=y,y()}return v}}var Ni=ct({point:function(n,t){this.stream.point(n*H,t*H)}});function Ti(n){return ct({point:function(t,i){var e=n(t,i);return this.stream.point(e[0],e[1])}})}function Vi(n,t,i,e,r){function a(l,u){return l*=e,u*=r,[t+n*l,i-n*u]}return a.invert=function(l,u){return[(l-t)/n*e,(i-u)/n*r]},a}function Ct(n,t,i,e,r,a){if(!a)return Vi(n,t,i,e,r);var l=q(a),u=B(a),m=l*n,g=u*n,o=l/n,s=u/n,c=(u*i-l*t)/n,d=(u*t+l*i)/n;function f(_,v){return _*=e,v*=r,[m*_-g*v+t,i-g*_-m*v]}return f.invert=function(_,v){return[e*(o*_-s*v+c),r*(d-s*_-o*v)]},f}function Ai(n){return ji(function(){return n})()}function ji(n){var t,i=150,e=480,r=250,a=0,l=0,u=0,m=0,g=0,o,s=0,c=1,d=1,f=null,_=Rt,v=null,S,M,h,y=Jn,E=.5,L,T,R,$,A;function w(p){return R(p[0]*H,p[1]*H)}function z(p){return p=R.invert(p[0],p[1]),p&&[p[0]*J,p[1]*J]}w.stream=function(p){return $&&A===p?$:$=Ni(Ti(o)(_(L(y(A=p)))))},w.preclip=function(p){return arguments.length?(_=p,f=void 0,P()):_},w.postclip=function(p){return arguments.length?(y=p,v=S=M=h=null,P()):y},w.clipAngle=function(p){return arguments.length?(_=+p?ai(f=p*H):(f=null,Rt),P()):f*J},w.clipExtent=function(p){return arguments.length?(y=p==null?(v=S=M=h=null,Jn):li(v=+p[0][0],S=+p[0][1],M=+p[1][0],h=+p[1][1]),P()):v==null?null:[[v,S],[M,h]]},w.scale=function(p){return arguments.length?(i=+p,x()):i},w.translate=function(p){return arguments.length?(e=+p[0],r=+p[1],x()):[e,r]},w.center=function(p){return arguments.length?(a=p[0]%360*H,l=p[1]%360*H,x()):[a*J,l*J]},w.rotate=function(p){return arguments.length?(u=p[0]%360*H,m=p[1]%360*H,g=p.length>2?p[2]%360*H:0,x()):[u*J,m*J,g*J]},w.angle=function(p){return arguments.length?(s=p%360*H,x()):s*J},w.reflectX=function(p){return arguments.length?(c=p?-1:1,x()):c<0},w.reflectY=function(p){return arguments.length?(d=p?-1:1,x()):d<0},w.precision=function(p){return arguments.length?(L=Dt(T,E=p*p),P()):an(E)},w.fitExtent=function(p,I){return fe(w,p,I)},w.fitSize=function(p,I){return Li(w,p,I)},w.fitWidth=function(p,I){return wi(w,p,I)},w.fitHeight=function(p,I){return xi(w,p,I)};function x(){var p=Ct(i,0,0,c,d,s).apply(null,t(a,l)),I=Ct(i,e-p[0],r-p[1],c,d,s);return o=Je(u,m,g),T=Zn(t,I),R=Zn(o,T),L=Dt(T,E),P()}function P(){return $=A=null,w}return function(){return t=n.apply(this,arguments),w.invert=t.invert&&z,x()}}var Ot=Math.abs,Cn=Math.cos,cn=Math.sin,Fn=1e-6,lt=Math.PI;function Pi(n){return n?n/Math.sin(n):1}function pe(n){return n>1?0:n<-1?lt:Math.acos(n)}function ki(n){return n>0?Math.sqrt(n):0}function de(n,t){var i=Cn(t),e=Pi(pe(i*Cn(n/=2)));return[2*i*cn(n)*e,cn(t)*e]}de.invert=function(n,t){if(!(n*n+4*t*t>lt*lt+Fn)){var i=n,e=t,r=25;do{var a=cn(i),l=cn(i/2),u=Cn(i/2),m=cn(e),g=Cn(e),o=cn(2*e),s=m*m,c=g*g,d=l*l,f=1-c*u*u,_=f?pe(g*u)*ki(v=1/f):v=0,v,S=2*_*g*l-n,M=_*m-t,h=v*(c*d+_*g*u*s),y=v*(.5*a*o-_*2*m*l),E=v*.25*(o*l-_*m*c*a),L=v*(s*u+_*d*g),T=y*E-L*h;if(!T)break;var R=(M*y-S*L)/T,$=(S*E-M*h)/T;i-=R,e-=$}while((Ot(R)>Fn||Ot($)>Fn)&&--r>0);return[i,e]}};function qi(){return Ai(de).scale(152.63)}const Bi=C.path`
  fill: #d9f7f7;
`,zi=C.path`
  fill: none;
  stroke: #30e0e3;
`,Di=C.path`
  fill: none;
  stroke: var(--black, #000);
`,Ci=C.text`
  font-size: 0.5em;
  text-anchor: end;
`,Oi=C.text`
  font-size: 0.5em;
  text-anchor: middle;
  dominant-baseline: central;
`,Hi=C.foreignObject`
  opacity: var(--image-stack-opacity, 0);
  transition: opacity var(--DURATION_SLOW, 0.4s) ease;
`,Wi=C.path`
  cursor: pointer;
  fill: #ffdb78;
  stroke: #313333;
  stroke-width: 5;
`,he=({className:n,objects:t=[],images:i=[],visibleImages:e=[],describedById:r})=>{const[a,l]=Tn.useState(!1),[u,m]=Tn.useState(),g=600,o=300,s={top:20,right:0,bottom:20,left:20},c=g+s.right+s.left,d=o+s.top+s.bottom,f=15,_=30,v=-90,S=90,M=-180,h=180,y=2,E=qi(),L=si();L.step([_,f]),L.extent([[M,v],[h,S]]),E.fitExtent([[s.left,s.top],[s.left+g-y,s.top+o]],L.outline());const T=nn(v+f,S,f),R=nn(M+_,h,_),$=Mi(E).pointRadius(6),A=x=>$(x)||void 0,w=typeof u<"u"?t[u]:void 0,z=(w?E([w==null?void 0:w.long,w==null?void 0:w.lat]):[0,0])||[0,0];return N.jsxs(Xt,{width:c,height:d,className:n,children:[N.jsx("mask",{id:"imageMask",children:N.jsx("path",{d:A(L.outline()),fill:"white"})}),N.jsx(Bi,{d:A(L.outline())}),N.jsx(zi,{d:A(L())}),N.jsx(Hi,{style:{"--image-stack-opacity":a&&1},x:s.left,y:s.top,width:g-y,height:o,mask:"url(#imageMask)",children:N.jsx(Me,{images:i,describedById:r,visible:e,loadCallback:()=>l(!0),showBackdrop:!1,showLoader:!1})}),N.jsx("g",{children:t.map(({id:x,lat:P,long:p},I)=>N.jsx(Wi,{d:A({type:"Point",coordinates:[p,P]}),onMouseOver:()=>m(I),onMouseOut:()=>m(void 0)},x))}),N.jsx("g",{"aria-hidden":"true",children:T.map(x=>x===0?null:N.jsxs(Ci,{style:{dominantBaseline:x>0?"text-after-edge":"text-before-edge"},transform:`translate(${E([M,x])})`,children:[x,"°"]},x))}),N.jsx("g",{"aria-hidden":"true",children:R.map(x=>N.jsxs(Oi,{transform:`translate(${E([x,0])})`,children:[x,"°"]},x))}),N.jsx(Di,{strokeWidth:y,d:A(L.outline())}),N.jsx(Yt,{visible:!!w,x:z[0],y:z[1],children:w==null?void 0:w.id})]})};he.displayName="Widgets.SupernovaThreeVector.Skymap";const bi=he;try{Widgets.SupernovaThreeVector.Skymap.displayName="Widgets.SupernovaThreeVector.Skymap",Widgets.SupernovaThreeVector.Skymap.__docgenInfo={description:"",displayName:"Widgets.SupernovaThreeVector.Skymap",props:{objects:{defaultValue:{value:"[]"},description:"",name:"objects",required:!1,type:{name:"SkymapObject[]"}},images:{defaultValue:{value:"[]"},description:"",name:"images",required:!1,type:{name:"ImageShape[]"}},visibleImages:{defaultValue:{value:"[]"},description:"",name:"visibleImages",required:!1,type:{name:"boolean[]"}},describedById:{defaultValue:null,description:"",name:"describedById",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Fi=C.div`
  container-type: inline-size;
`,Xi=C.div`
  --three-vector-gap: calc(var(--PADDING_SMALL, 20px) / 2);

  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: min-content 1fr min-content min-content;
  grid-template-areas:
    "skymap"
    "histogram"
    "slider"
    "reset";
  gap: var(--three-vector-gap);

  @container (min-width: ${tn("BREAK_PHABLET_MIN")}) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr min-content min-content;
    grid-template-areas:
      "histogram skymap"
      "slider ."
      "reset reset";
  }

  @container (min-width: ${tn("BREAK_TABLET_MIN")}) {
    --three-vector-gap: var(--PADDING_SMALL, 20px);
    gap: var(--three-vector-gap);
  }
`,Yi=C.div`
  display: flex;
  flex-direction: column;
  gap: var(--three-vector-gap);
  container-type: inline-size;
  grid-area: histogram;
`,Gi=C(Ye)`
  font-size: 2.25em;

  @container (
    min-width: ${tn("BREAK_MOBILE")}
  ) {
    font-size: 1.5em;
  }

  @container (
    min-width: ${tn("BREAK_PHABLET_MIN")}
  ) {
    font-size: 1.25em;
  }

  @container (
    min-width: ${tn("BREAK_LARGE_TABLET_MIN")}
  ) {
    font-size: 1em;
  }
`,Ki=C.div`
  grid-area: slider;
`,Zi=C(xe)`
  grid-area: reset;
`,Ui=C.div`
  display: flex;
  flex-direction: column;
  gap: var(--three-vector-gap);
  container-type: inline-size;
  grid-area: skymap;
`,Ji=C(bi)`
  max-width: 100%;
  font-size: 2.25em;

  @container (
  min-width: ${tn("BREAK_MOBILE")}
) {
    font-size: 1.5em;
  }

  @container (
  min-width: ${tn("BREAK_PHABLET_MIN")}
) {
    font-size: 1.25em;
  }

  @container (
  min-width: ${tn("BREAK_LARGE_TABLET_MIN")}
) {
    font-size: 1em;
  }
`,Ht=C.h4`
  margin: 0;
`,ge=({histogramData:n,userData:t,binnedImages:i,step:e=100})=>{const{t:r}=st(),a={top:30,bottom:30,left:50,right:0},l="skyMapDescription",u=600,m=u/1.6,g=[a.left,u-a.right],o=[m-a.bottom,a.top],s=6,c=7,d=0,f=ht(n,x=>x.value)||Math.max(...n.map(({value:x})=>x)),_=Ve(n,x=>x.bin)||0,v=ht(n,x=>x.bin)||Math.max(...n.map(({bin:x})=>x)),S=dt(_,v,s),M=dt(d,f||d,c),h=pt(S,g),y=pt(M,o),[E,L]=Tn.useState([_,v]),T=15,R=`calc(${a.left/u*100}% - ${T}px)`,$=`calc(${(1-h(v)/u)*100}% - ${T}px)`,A=n.map(({bin:x})=>Xn(x,E[0],E[1])),w=t.filter(({distance:x})=>Xn(x,E[0],E[1]+e)),z=n.reduce((x,{value:P},p)=>A[p]?x+P:x,0);return N.jsxs(Fi,{children:[N.jsxs(Xi,{children:[N.jsxs(Yi,{children:[N.jsx(Ht,{children:r("supernova_three_vector.histogram.title")}),N.jsx(Gi,{data:n,activeRange:E,xDomain:S,yDomain:M,xScale:h,yScale:y,yTicks:c,xTicks:s,step:e,margin:a,width:u,height:m})]}),N.jsx(Ki,{style:{paddingInlineStart:R,paddingInlineEnd:$},children:N.jsx(Se,{min:_,max:v,step:e,value:E,ariaValuetext:({valueNow:x})=>r("supernova_three_vector.slider.valueLabel",{value:x}),label:"distanceSlider",color:"var(--turquoise85,#12726D)",minLabel:`${_} kpc`,maxLabel:`${v} kpc`,onChangeCallback:x=>Array.isArray(x)&&L(x)})}),N.jsxs(Ui,{children:[N.jsx(Ht,{children:r("supernova_three_vector.skymap.title")}),N.jsx(Ji,{objects:w,images:i,describedById:l,visibleImages:A})]}),N.jsx(Zi,{onResetCallback:()=>L([_,v])})]}),N.jsx(be,{id:l,objects:w,min:E[0],max:E[1]+e,supernovaCount:z})]})};ge.displayName="Widgets.SupernovaThreeVector";const Qi=ge;try{Widgets.SupernovaThreeVector.displayName="Widgets.SupernovaThreeVector",Widgets.SupernovaThreeVector.__docgenInfo={description:"",displayName:"Widgets.SupernovaThreeVector",props:{histogramData:{defaultValue:null,description:"",name:"histogramData",required:!0,type:{name:"HistogramData"}},binnedImages:{defaultValue:null,description:"",name:"binnedImages",required:!0,type:{name:"ImageShape[]"}},step:{defaultValue:{value:"100"},description:"",name:"step",required:!1,type:{name:"number"}},userData:{defaultValue:null,description:"",name:"userData",required:!0,type:{name:"SkymapObject[]"}}}}}catch{}const Pr={argTypes:{},component:Qi},me=100,nr=[1912,708,1199,1272,998,264,251,247,225,209,200,198,196,186,187,185,179,180,174,171,166,167,170,164,165,160,159,160,155,156,156,157,158],ve=nr.map((n,t)=>({bin:t*me,value:n})),tr=["/images/supernovae_skymap/range0_500.png","/images/supernovae_skymap/range500_1000.png","/images/supernovae_skymap/range1000_2500.png"],er=ve.map(({bin:n})=>{let t=0;return n<500?t=0:n<1e3?t=1:t=2,{url:tr[t],width:924,height:462}}),ir=[{id:"m58",long:290.396828,lat:74.355236,distance:2719,magnitude:0},{id:"m96",long:234.435409,lat:57.010427,distance:1824,magnitude:0},{id:"m49",long:286.921809,lat:70.196069,distance:1945,magnitude:0}],In={args:{histogramData:ve,userData:ir,step:me,binnedImages:er}};var Wt,bt,Ft;In.parameters={...In.parameters,docs:{...(Wt=In.parameters)==null?void 0:Wt.docs,source:{originalSource:`{
  args: {
    histogramData: binnedData,
    userData: supernovae,
    step,
    binnedImages: images
  }
}`,...(Ft=(bt=In.parameters)==null?void 0:bt.docs)==null?void 0:Ft.source}}};const kr=["Primary"];export{In as Primary,kr as __namedExportsOrder,Pr as default};
